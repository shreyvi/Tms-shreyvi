<div *ngIf="saService.pageLoading"><app-page-loading></app-page-loading></div>
<div *ngIf="!saService.pageLoading">
<div class="content">
 <div class="card">
  <div class="d-flex justify-content-between mt-2">
    <div class="col-lg-4 col-md-4 col-sm-4 mt-3 mx-4">
      <ng-container *ngIf="showSearchInput; else paragraphContent">
    <div class="col-lg-12 col-md-12 col-sm-12 ">
          <mat-form-field appearance="fill" >
            <mat-label>Search</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="Enter name" #input>
          </mat-form-field>
        <button mat-icon-button aria-label="Example icon button with a vertical three-dot icon" (click)="hideSearchInput()"  matTooltip="close" >
          <mat-icon>close</mat-icon>
        </button>
      </div>
      </ng-container>
      <ng-template #paragraphContent>
        <p class="text-heading">Companies</p>
      </ng-template>
    </div>
    <div class="col-md-2 col-lg-2 col-sm-2 d-flex justify-content-around" *ngIf="!showSearchInput">
      <button mat-icon-button aria-label="Example icon button with a vertical three-dot icon" (click)="toggleSearchInput()" matTooltip="Search device">
        <mat-icon>search</mat-icon>
      </button>
    </div>
  </div>
  
  
  
  <section class="example-container ">
    <table mat-table [dataSource]="dataSource" class="table-color">

      <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef >Id</th>
          <td mat-cell *matCellDef="let element">{{element.id}}</td>
      </ng-container>

      <ng-container matColumnDef="company_name">
          <th mat-header-cell *matHeaderCellDef>Company Name</th>
          <td mat-cell *matCellDef="let element">{{element.company_name}}</td>
      </ng-container>

      <ng-container matColumnDef="total_users">
          <th mat-header-cell *matHeaderCellDef>Total users</th>
          <td mat-cell *matCellDef="let element">{{ element.total_users}}</td>
      </ng-container>

      <ng-container matColumnDef="active_users">
          <th mat-header-cell *matHeaderCellDef>Active users</th>
          <td mat-cell *matCellDef="let element">{{ element.active_users}}</td>
      </ng-container>

      <ng-container matColumnDef="inactive_users">
          <th mat-header-cell *matHeaderCellDef>Inactive users</th>
          <td mat-cell *matCellDef="let element">{{ element.inactive_users}}</td>
      </ng-container>

      <ng-container matColumnDef="created_at">
          <th mat-header-cell *matHeaderCellDef>Subscription start date</th>
          <td mat-cell *matCellDef="let element">{{ element.created_at}}</td>
      </ng-container>

      <ng-container matColumnDef="updated_at">
          <th mat-header-cell *matHeaderCellDef>Subscription end date</th>
          <td mat-cell *matCellDef="let element">{{ element.updated_at}}</td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="col-lg-2 col-sm-2 col-md-2"> Actions </th>
        <td mat-cell *matCellDef="let element" class="col-lg-2 col-sm-2 col-md-2">
          <button mat-icon-button color="warn" matTooltip="edit" (click)="openEditCompanyDialog(element)">
            <mat-icon>edit</mat-icon>
          </button>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true" style="z-index: 0;"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
    </table>
  
</section>
 </div>
</div>
</div>





